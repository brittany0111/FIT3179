{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "title": "Tree Cover Loss by Driver",
  "vconcat": [
    {
      "width": 700,
      "height": 400,
      "data": {
        "url": "https://raw.githubusercontent.com/brittany0111/FIT3179/main/tree_cover_loss_by_driver.csv"
      },
      "transform": [
        {"filter": {"param": "year_brush"}}
      ],
      "mark": { "type": "area","interpolate": "monotone" },
      "params": [
        {
          "name": "driver_select",
          "select": {"type": "point", "fields": ["drivers_type"]},
          "bind": "legend"
        }
      ],
      "encoding": {
        "x": { "field": "loss_year", "type": "ordinal", "title": "Year" },
        "y": { "field": "loss_area_ha", "type": "quantitative", "title": "Loss Area (ha)" },
        "color": {
          "field": "drivers_type",
          "type": "nominal",
          "legend": {"title": "Driver Type", "orient": "right", "offset": 70},
          "scale": {"scheme": "tableau10"}
        },
        "opacity": {
          "condition": {"param": "driver_select", "value": 1},
          "value": 0.2
        },
        "tooltip": [
          {"field": "drivers_type", "type": "nominal", "title": "Driver"},
          {"field": "loss_area_ha", "type": "quantitative", "title": "Loss Area (ha)", "format": ",.0f"},
          {"field": "loss_year", "type": "ordinal", "title": "Year"}
        ]
      }
    },
    {
      "width": 700,
      "height": 100,
      "data": {
        "url": "https://raw.githubusercontent.com/brittany0111/FIT3179/main/tree_cover_loss_by_driver.csv"
      },
      "mark": {"type": "area", "interpolate": "monotone"},
      "params": [
        {
          "name": "year_brush",
          "select": {"type": "interval", "encodings": ["x"]}
        }
      ],
      "encoding": {
        "x": { "field": "loss_year", "type": "ordinal", "title": "Select Year Range" },
        "y": { "field": "loss_area_ha", "type": "quantitative", "title": "Loss Area (ha)" },
        "color": {
          "field": "drivers_type",
          "type": "nominal",
          "scale": {"scheme": "tableau10"},
          "legend": null
        }
      }
    }
  ],
  "config": {
    "axis": {"labelFontSize": 12, "titleFontSize": 14},
    "legend": {"labelFontSize": 12, "titleFontSize": 13}
  }
}
