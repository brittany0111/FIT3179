{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "vconcat": [
    {
      "width": 800,
      "height": 400,
      "data": {
        "url": "https://raw.githubusercontent.com/brittany0111/FIT3179/main/forest_reserve_state_normalized_clean.csv"
      },
      "transform": [
        {"filter": {"param": "year_brush"}}
      ],
      "mark": { "type": "line", "point": true },
      "params": [
        {
          "name": "state_select",
          "select": {"type": "point", "fields": ["state"]},
          "bind": "legend"
        }
      ],
      "encoding": {
        "x": { "field": "date", "type": "ordinal", "title": "Year" },
        "y": { "field": "forest_area", "type": "quantitative", "title": "Reserve Area (hectares)" },
        "color": {
          "field": "state",
          "type": "nominal",
          "legend": {"title": "State", "orient": "right", "offset": 70},
          "scale": {"scheme": "category20c"}
        },
        "opacity": {
          "condition": {"param": "state_select", "value": 1},
          "value": 0.2
        },
        "tooltip": [
          {"field": "state", "type": "nominal", "title": "State"},
          {"field": "forest_area", "type": "quantitative", "title": "Reserve Area (ha)", "format": ",.0f"},
          {"field": "date", "type": "ordinal", "title": "Year"}
        ]
      }
    },
    {
      "width": 700,
      "height": 100,
      "data": {
        "url": "https://raw.githubusercontent.com/brittany0111/FIT3179/main/forest_reserve_state_normalized_clean.csv"
      },
      "mark": {"type": "line", "interpolate": "monotone"},
      "params": [
        {
          "name": "year_brush",
          "select": {"type": "interval", "encodings": ["x"]}
        }
      ],
      "encoding": {
        "x": { "field": "date", "type": "ordinal", "title": "Select Year Range" },
        "y": { "field": "forest_area", "type": "quantitative", "title": "Reserve Area (ha)" },
        "color": {
          "field": "state",
          "type": "nominal",
          "scale": {"scheme": "category20c"},
          "legend": null
        }
      }
    }
  ],
  "config": {
    "axis": {"labelFontSize": 12, "titleFontSize": 14},
    "legend": {"labelFontSize": 12, "titleFontSize": 13}
  }
}
